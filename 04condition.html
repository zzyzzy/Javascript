<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>자바스크립트 조건문</title>
</head>
<body>
    <h1>자바스크립트 조건문</h1>
    <h2>개요</h2>
    <p>특정 조건에 대한 만족여부에 따라 실행할 코드를 결정하는 기능</p>
    <p>자바스크립트는 2가지의 조건문 제공 - if, switch</p>

    <h2>코드블록</h2>
    <p>0개 이상의 명령문을 중괄호({})로 묶은것</p>
    <p>블록은 단독으로 사용할 수 있으나, 일반적으로
        제어문이나 함수/객체 선언시 주로 사용</p>

    <script>
        {
            document.write('<b>Hello, code block!!</b>');
        }  // 코드블록
    </script>

    <h2>if문</h2>
    <p>조건을 만족할때만 지정한 코드블록을 실행함</p>
    <p> if (조건식) { </p>
    <p>     참일때 실행할 명령어(들) </p>
    <p> } </p>

    <script>
        // 평균 점수가 60점 이상이면, '시험 합격!!' 을 출력
        let avg = 68.5;

        if (avg >= 60) {
            document.write(avg, ' - 시험합격!! <br>');
        }
    </script>

    <script>
        // 짝수, 홀수 여부 출력
        // 2로 나눠 나머지가 0인지 여부 확인
        let num = 6;

        if (num % 2 == 0) {
            document.write(num, ' - 짝수입니다!! <br>'); }

        if (num % 2 != 0) {
            document.write(num, ' - 홀수입니다!! <br>'); }
    </script>

    <script>
        // 오전, 오후 구분하여 출력
        let time = '09:53:12';
        let hour = time[0] + time[1];

        if (hour < 12) {
            document.write(hour, ' - 오전입니다!! <br>');
        }

        if (hour >= 12) {
            document.write(hour, ' - 오후입니다!! <br>');
        }
    </script>

    <h2>if ~ else 문</h2>
    <p>조건을 만족하면 if 아래의 코드블록을 실행하고,
        만족하지 않을 경우 else 아래의 코드블록을 실행</p>
    <p> if (조건식) { </p>
    <p>     참일때 실행할 명령어(들) </p>
    <p> } else { </p>
    <p>     거짓일때 실행할 명령어(들) </p>
    <p> } </p>

    <script>
        // 평균 점수가 60점 이상이면, '시험 합격!!' 을 출력
        // 평균 점수가 60점 미만이면, '시험 불합격!!' 을 출력
        avg = 58.5;

        if (avg >= 60) {
            document.write(avg, ' - 시험 합격!! <br>');
        } else {
            document.write(avg, ' - 시험 불합격!! <br>');
        }
    </script>

    <script>
        // 짝수, 홀수 여부 출력 v2
        num = 6;

        if (num % 2 == 0) {
            document.write(num, ' - 짝수입니다!! <br>');
        } else {
            document.write(num, ' - 홀수입니다!! <br>');
        }
    </script>

    <script>
        // 오전, 오후 구분하여 출력 v2
        time = '15:47:40';
        hour = time[0] + time[1];

        if (hour < 12) {
            document.write(hour, ' - 오전입니다!! <br>');
        } else {
            document.write(hour, ' - 오후입니다!! <br>');
        }
    </script>

    <script>
        // 특정년도에 윤년여부를 출력
        // 조건1 : 4로 나눠 떨어지고, 100으로는 나눠 떨어지지 않으면 윤년
        // 조건2 : 400으로 나눠 떨어지면 윤년

        // ex) 1988, 2000, 2008, 2020 : 윤년
        //     1900, 2100, 2022 : 평년
        let year = 2022;

        if ((year % 4 == 0 && year % 100 != 0)
                || (year % 400 == 0)) {
            document.write(year, '- 윤년입니다<br>');
        } else {
            document.write(year, '- 평년입니다<br>');
        }
    </script>

    <script>
        // 아이디와 비밀번호를 이용해서
        // 로그인 기능 구현하기
        let userid = 'abc123';
        let passwd = '987xyz';

        let uid = '123';
        let pwd = '987';

        if (userid == uid && passwd == pwd) {
            document.write('<h3>회원인증에 성공했습니다!</h3>');
        } else {
            document.write('<h3>회원인증에 실패했습니다!</h3>');
        }
    </script>

    <script>
        // 아이디와 비밀번호를 이용해서
        // 로그인 기능 구현하기 v2
        userid = 'abc123';
        passwd = '987xyz';

        uid = '987';
        pwd = '123';

        // 로그인 실패시 출력할 문자열 정의
        let result = '<h3>회원인증에 실패했습니다!</h3>';

        if (userid == uid && passwd == pwd) {
            // 로그인 성공시 출력할 문자열 정의
            result = '<h3>회원인증에 성공했습니다!</h3>';
        }

        document.write(result);
    </script>

    <h2>중첩 조건문</h2>
    <p>if나 else 안에 또 다른 조건문을 포함한 조건문을 의미</p>
    <p>단점은 코드 가독성이 떨어지므로 사용을 자제하는 것이 좋음</p>

    <script>
        // 특정년도의 윤년여부를 출력 v2
        // 조건1 : 4로 나눠 떨어지고 윤년
        // 조건2 : 4로 나눠 떨어지고, 100으로도 나눠 떨어지면 평년
        // 조건3 : 400으로 나눠 떨어지면 윤년
        year = 2023;

        if (year % 4 == 0) {
            if (year % 100 == 0) {
                result = '- 평년입니다';
            } else {
                result = '- 윤년입니다';
            }
        } else {
            if (year % 400 == 0) {
                result = '- 윤년입니다';
            } else {
                result = '- 평년입니다';
            }
        }

        document.write(year, result);
    </script>

    <h2>다중 조건문</h2>
    <p>다중 조건에 대한 만족여부에 따라
        코드블록을 실행하려면 if ~ else 뒤에
            if ~ else 문을 더 추가함</p>

    <script>
        // 평균점수에 따라 수우미양가로 성적결과 출력
        avg = 45.3;

        result = '가';

        if (avg >= 90) {
            result = '수';
        } else if (avg >= 80) {
            result = '우';
        } else if (avg >= 70){
            result = '미';
        } else if (avg >= 60) {
            result = '양';
        }

        document.write(avg, ' ', result, '<br>');
    </script>

    <script>
        // 버스 기본요금 부과하기 - 나이를 입력받음
        // 미취학 아동 (~7세) : 0원
        // 어린이 (8~13) : 450원
        // 청소년 (14~19) : 720원
        // 일반 (20~) : 1200원
        // 노인 (70~) : 0원

        let age = 35;
        let pay = 0;

        if (age >= 70) {
            pay = 0;
        } else if (age >= 20) {
            pay = 1200;
        } else if (age >= 14) {
            pay = 720;
        } else if (age >= 8) {
            pay = 450;
        }

        document.write(`나이가 ${age}세 라면,
            버스요금은 ${pay}원 입니다 <br>`);
    </script>

    <h2>조건식을 거짓으로 취급하는 값들</h2>
    <p>false, 0, undefined, null, NaN, 빈문자열등은
        조건식에서 참이 아닌 거짓으로 취급</p>

    <script>
        result = '거짓입니다 <br>';

        //if (undefined) {
        //if (null) {
        //if (NaN) {
        if ('') {
            result = '참입니다 <br>';
        }

        document.write(result);
    </script>

    <h2>switch</h2>
    <p>다중 조건 if문을 가독성 있게 작성한 조건문</p>
    <p>switch의 표현식을 평가하여 그 값의 일치여부에 따라
        case문 아래의 코드 블록을 실행하는 구조</p>
    <p>표현식의 평가값과 일치하는 case가 없는 경우
        default문의 코드블록을 실행함</p>
    <p>단, 표현식의 평가값과 일치하는 case문이 실행되더라도
        break문이 없으면, switch문이 중단되지 않고
        나머지 case문을 실행하게 됨 - full through</p>

    <p>switch(조건식) {</p>
    <p>   case 값1: 코드블록; break; </p>
    <p>   case 값2: 코드블록; break; </p>
    <p>   ....                      </p>
    <p>   default: 코드블록; break; </p>
    <p>}</p>

    <script>
        // 짝수, 홀수 여부 출력 v3
        num = 6;
        result = '';

        switch (num % 2) {
            case 0: result = ' 짝수입니다!! <br>'; break;
            case 1: result = ' 홀수입니다!! <br>'; break;
        }

        document.write(num, result);
    </script>

    <script>
        // 오전, 오후 구분하여 출력 v3
        time = '15:47:40';
        hour = time[0] + time[1];
        result = '';

        switch (hour) {  // hour는 문자형
            case '0':
            case '1':
            case '2': result = ' 오전입니다!! <br>'; break;

            case '12':
            case '13':
            case '14':
            case '15': result = ' 오후입니다!! <br>'; break;
        }

        document.write(hour, result);
    </script>

    <script>
        // 짝수, 홀수 여부 출력 v4
        num = 6;
        result = '';

        switch (num % 2 == 0) {
            case true: result = ' 짝수입니다!! <br>'; break;
            case false: result = ' 홀수입니다!! <br>'; break;
        }

        document.write(num, result);
    </script>

    <script>
        // 오전, 오후 구분하여 출력 v4
        time = '15:47:40';
        hour = time[0] + time[1];
        result = '';

        switch (hour >= 12) {  // hour는 문자형
            case false: result = ' 오전입니다!! <br>'; break;
            case true: result = ' 오후입니다!! <br>'; break;
        }

        document.write(hour, result);
    </script>

    <script>
        // 월을 입력하면 영어로 변환해서 출력
        let month = 7;
        result = '';

        switch (month) {
            case 1: result = 'January'; break;
            case 2: result = 'February'; break;
            case 3: result = 'May'; break;
            case 4: result = 'April'; break;
            case 5: result = 'May'; break;
            case 6: result = 'June'; break;
            case 7: result = 'July'; break;
            case 8: result = 'Auguest'; break;
            case 9: result = 'September'; break;
            case 10: result = 'October'; break;
            case 11: result = 'November'; break;
            case 12: result = 'December'; break;
            default: result = '잘못 입력하셨습니다!'; break;
        }

        document.write(month, ' ', result, '<br>');
    </script>

    <script>
        // 월, 윤년여부(Y/N)를 입력하면 해당 월의 마지막 날을 출력
        // 1,3,5,7,8,10,12 - 31일
        // 4,6,9,11 - 30일
        // 2 - 윤년여부에 따라 28(N)일 or 29(Y)일
        month = 2;
        isLeapYear = 'Y';
        let lastDay = 0;

        switch (month) {
            case 1: case 3: case 5: case 7:
            case 8: case 10: case 12: lastDay = 31; break;

            case 4: case 6: case 9: case 11: lastDay = 30; break;

            case 2: if (isLeapYear == 'Y') { lastDay = 29; }
                else { lastDay = 28; } break;

            default: lastDay = '잘못 입력하셨습니다!'; break;
        }

        document.write(`${month}월은 ${lastDay}일
                (윤년: ${isLeapYear}) 까지입니다 <br>`);
    </script>

    <script>
        // 평균점수에 따라 수우미양가로 성적결과 출력 v2
        avg = 100;
        result = '';

        switch (parseInt(avg / 10)) {
            case 10:
            case 9: result = '수'; break;
            case 8: result = '우'; break;
            case 7: result = '미'; break;
            case 6: result = '양'; break;
            default: result = '가'; break;
        }

        document.write(avg, ' ', result, '<br>');
    </script>

    <p>javascript 한정으로 switch의 case문에
        비교 연산자를 이용한 범위를 검사하는 코드를 작성할 수도 있음 <br>
    (https://stackoverflow.com/questions/5619832/switch-on-ranges-of-integers-in-javascript)</p>

    <h2>if vs switch</h2>
    <p>if문의 경우 조건식 검사는 위에서 아래로 순차적으로 진행됨</p>
    <p>운이 나빠서, 만족하는 조건식이 맨 아래에 있다면
        위의 조건식 모두를 비교한 뒤에야 비로소 도달하게 됨</p>
    <p>하지만, switch문은 평가식의 결과값을 판단하고,
        해당하는 case절로 바로 찾아가기 때문에 if문보다 효율이 좋음</p>

</body>
</html>